## Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Попов И. П.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|    21.12     |      5        |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

Выделяют два основных подхода к решению логических задач:
1. Перебор всех вариантов с последующей проверкой на истинность полученных результатов;
2. Частичный перебор, реализуемый путем отсечения заведомо ложных ветвей дерева решений путем задания ограниченных условий;

Несомненно, второй способ предпочтительнее, ведь он позволяет уменьшить количество обрабатываемых вершин дерева, а следовательно, получить выигрыш в производительности. В своей реализации я использовал предикат member одновременно для генерации и проверки, таким образом генерировались не все варианты решений, а некоторое их подмножество.

Prolog - очень удобный язык для решения логических задач, все что необходимо для решения - разбить задачу на набор фактов, которыми в дальнейшем будут оперировать написанные предикаты. В частности при решении методом частичного перебора очень удобен бэктрекинг Prolog, который при фиксировании неуспеха автоматически пересматривает решение и продолжает выполнение программы при других значениях переменных.

## Задание
Вариант №17

В семье Семеновых пять человек: муж, жена, их сын, сестра мужа и отец жены. Все они работают. Один инженер, другой юрист, третий слесарь, четвертый экономист, пятый учитель. Вот что еще известно о них. Юрист и учитель не кровные родственники. Слесарь хороший спортсмен. Он пошел по стопам экономиста и играет в футбол за сборную завода. Инженер старше жены своего брата, но моложе, чем учитель. Экономист старше, чем слесарь. Назовите профессии каждого члена семьи Семеновых.

## Принцип решения

Перед написанием программы было необходимо извлечь набор фактов и правил из условия задачи:
 
1. Данные для определения пола (в данной задаче используется информация только про лица мужского пола)
```prolog
male("husband").
male("son").
male("wife's father").
```
2. Данные для определения сестры мужа
```prolog
sibling("husband", "husband's sister").
```
3. Данные для определения брака
```prolog
spouses("husband", "wife").
```

4. Данные для определения кровного родства
```prolog
not_blood_relative("husband", "wife").
not_blood_relative("husband's sister", "wife").
not_blood_relative("wife's father", "husband").
not_blood_relative("husband's sister", "wife's father").
```

5. Данные для сравнения по возрасту
```prolog
younger("son", "husband").
younger("son", "wife").
younger("son", "wife's father").
younger("wife", "wife's father").
younger("wife", "husband's sister").
younger("husband's sister", "husband").
```
Далее необходимо написать предикаты:

1. Предикат наличия кровного родства
```prolog
not_blood_relatives(X, Y):- 
    not_blood_relative(X, Y); 
    not_blood_relative(Y, X).
```

2. Предикат принадлежности элемента списку
```prolog
member(A,[A|_]).
member(A,[_|L]):- member(A,L).
Для решения задачи были реализованы следующие предикаты:
```
Когда все вышеперечисленное сделано, реализовывается основная функция, в которой поиск решения задачи основывается на реализованных предикатах, которые работают с набор фактов и правил из условия задачи.
```prolog
solve:-  
    write("SOLVE:"), nl,

    L = [profession("husband", _), 
        profession("wife", _), 
        profession("son", _), 
        profession("husband's sister", _), 
        profession("wife's father", _)],

    %Юрист и учитель не кровные родственники.
    member(profession(X, "lawyer"), L),  
    member(profession(Y, "teacher"), L),
    not_blood_relatives(X, Y), 

    %Слесарь хороший спортсмен. 
    %Он пошел по стопам экономиста и играет в футбол за сборную завода.
    member(profession(Z, "locksmith"), L),
    member(profession(U, "economist"), L),
    male(Z),
    male(U),
    %наличие данного предиката здесь обусловлено только условием, что задача имеет одно решение.
    %в условии задачи напрямую не говорится, что экономист - мужчина, 
    %а то что экономист играет в футбол не является достаточным доказательством этого.
    %при отсутствии данного предиката, появляются еще два решения задачи.
    not(not_blood_relative(Z, U)),
    %Экономист старше, чем слесарь.
    not(younger(U, Z)), 

    member(profession(V, "engineer"), L),
    sibling(HUSB, V),
    spouses(HUSB, WIFE),
    %Инженер старше жены своего брата
    not(younger(V, WIFE)),
    %но моложе, чем учитель.
    younger(V, Y),

    write("lawyer- "), write(X), nl,
    write("teacher- "), write(Y), nl,
    write("locksmith- "), write(Z), nl,
    write("economist- "), write(U), nl,
    write("engineer- "), write(V), nl, nl,
    fail.
```

Результаты выполнения программы:
```prolog
?- solve.
SOLVE:
lawyer- wife
teacher- husband
locksmith- son
economist- wife's father
engineer- husband's sister

false.
```

## Выводы

Как отмечалось ранее, Prolog - удобный язык для решения логических задач. Задач, в которых необходимо перебрать большое количество вариантов и выделить среди них верные непротиворечивые решения. В ходе данной лабораторной работы, парадигма логического программирования требует рассмотрения "в ширину", а не "в глубину", чтобы прогнозировать работу программы и писать ее максимально оптимизированной. Это достигается отсечением заведомо ложных ветвей дерева решений путем задания ограниченных условий или выборочной генерацией необходимых.

Человеку произвести подобные вычисления практически невозможно, вследствие этого люди при решении логических задач пользуются некоторыми приёмами, позволяющими уменьшить количество возможных вариантов решения, например, метод исключения или "от противного". Скорее всего, можно каким-то образом автоматизировать написание предикатов путем реализации мощного естественно-языкового интерфейса. В таком случае, подобные задачи можно будет решать и вовсе не задействуя абстрактное мышление человека, а обходиться исключительно вычислительными возможностями техники.




